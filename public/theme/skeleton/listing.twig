{% extends 'partials/_master.twig' %}

{% block main %}

        {# This template is used for 'listings': Generic pages that list a number of
           records from a certain content type. These records are available as an array
           called 'records'. In the for-loop below, we iterate over the records that
           are on this page. It can be used for overview pages like 'all entries', or
           'all records tagged with kittens'. #}

        {# If used for listing a taxonomy, we add a heading.: #}
        {% if taxonomytype is defined %}
            <h1>
                {{ __('general.phrase.overview-for') }}
                {% if taxonomy.options[slug] is defined %}
                    {{ taxonomy.options[slug] }}
                {% else %}
                    {{ slug }}
                {% endif %}
            </h1>
            {# Taxonomies are fetched unordered by design except if 'has_sortorder'
               is set to true. This way we keep 'grouping' intact in the listing. #}
            {% if not taxonomy.has_sortorder %}
                {# If we specified an order in config.yml, sort them here, accordingly: #}
                {% set records = records|order(config.get('general/listing_sort')) %}
            {% endif %}
        {% endif %}

        {% for record in records %}
            <article>

                <h2><a href="{{ record|link }}">{{ record|title }}</a></h2>

                {% if record|image is not empty %}
                    <a href="{{ image(record|image) }}">
                        <img src="{{ thumbnail(record|image, 400, 260) }}" alt="{{ (record|image).alt|default(record|title) }}">
                    </a>
                {% endif %}

                <p>{{ record|excerpt(300, false, search|default('')) }}</p>

                {% include 'partials/_recordfooter.twig' with { 'record': record } %}

            </article>

            {% if not loop.last %}
                <hr>
            {% endif %}

        {% else %}
            <article>

                <h2>{{ __('general.phrase.no-content-found') }}</h2>

                <p>
                    {{ __("Unfortunately, no content could be found. Try another page, or go to the <a href=\"%paths_root%\">homepage</a>.", {'%paths_root%': path('homepage')} ) }}
                </p>

            </article>
        {% endfor %}

    <style>
        .pagerfanta {
        }

        .pagerfanta a,
        .pagerfanta span {
            display: inline-block;
            border: 1px solid blue;
            color: blue;
            margin-right: .2em;
            padding: .25em .35em;
        }

        .pagerfanta a {
            text-decoration: none;
        }

        .pagerfanta a:hover {
            background: #ccf;
        }

        .pagerfanta .dots {
            border-width: 0;
        }

        .pagerfanta .current {
            background: #ccf;
            font-weight: bold;
        }

        .pagerfanta .disabled {
            border-color: #ccf;
            color: #ccf;
        }

        COLORS:

        .pagerfanta a,
        .pagerfanta span {
            border-color: blue;
            color: blue;
        }

        .pagerfanta a:hover {
            background: #ccf;
        }

        .pagerfanta .current {
            background: #ccf;
        }

        .pagerfanta .disabled {
            border-color: #ccf;
            color: #cf;
        }
    </style>

    {% if records.haveToPaginate|default() %}
        <div class="pagination">
            {{ pagerfanta(records) }}
        </div>
    {% endif %}


        {# If there are more records than will fit on one page, the pager is shown. #}
        {{ pager(template = 'partials/_sub_pager.twig') }}

{% endblock main %}
